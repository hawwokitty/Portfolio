"use strict";
Object.defineProperty(exports, Symbol.toStringTag, { value: "Module" });
const nanoid = require("nanoid");
const React = require("react");
const ModalContext = require("./ModalContext.cjs");
const windowStackReducer = (state, action) => {
  const newWindows = { ...state };
  switch (action.type) {
    case "ADD_WINDOW": {
      newWindows[action.id] = action.window;
      return newWindows;
    }
    case "REMOVE_WINDOW": {
      delete newWindows[action.id];
      return newWindows;
    }
    case "UPDATE_WINDOW": {
      newWindows[action.id] = action.window;
      return newWindows;
    }
    default:
      return state;
  }
};
const ModalProvider = ({
  children
}) => {
  const [windows, dispatch] = React.useReducer(windowStackReducer, {});
  const [activeWindow, setActiveWindow] = React.useState();
  const addWindows = (window) => {
    const id = nanoid.nanoid();
    dispatch({ type: "ADD_WINDOW", id, window });
    return id;
  };
  const removeWindow = (id) => {
    dispatch({ type: "REMOVE_WINDOW", id });
  };
  const updateWindow = (id, window) => {
    dispatch({ type: "UPDATE_WINDOW", id, window });
  };
  return /* @__PURE__ */ React.createElement(
    ModalContext.ModalContext.Provider,
    {
      value: {
        windows,
        addWindows,
        removeWindow,
        updateWindow,
        setActiveWindow,
        activeWindow
      }
    },
    children
  );
};
exports.ModalProvider = ModalProvider;
